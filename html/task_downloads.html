<!DOCTYPE html>
<html>
	<head>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
			}
			
			body {
				user-select: none;
				margin: 0;
				padding: 0;
				overflow: hidden;
				font-family: Arial, sans-serif;
				height: 100vh;
				
				background: 
					linear-gradient(90deg, #7E898F 0%, #636C75 100%), 
					radial-gradient(at top, rgba(255, 255, 255, 0.50) 0%, rgba(0, 0, 0, 0.55) 100%), 
					radial-gradient(at top, rgba(255, 255, 255, 0.50) 0%, rgba(0, 0, 0, 0.08) 63%);
				background-blend-mode: multiply, screen;
			}
			
			section {
				margin: 15px;
				margin-top: 30px;
				margin-bottom: 0;
				
				
				main {
					font-size: 14px;
					overflow: hidden;
					height: calc(100vh - 130px);
					border-radius: 3px;
					background: rgba(240, 242, 245, 1);
					border: 1px solid rgba(255, 255, 255, 1);
					
					
					header {
						-webkit-app-region: drag;
						text-align: center;
						padding: 10px;
						margin-bottom: 3px;
						background: rgba(230, 235, 240, 1);
						border-bottom: 1px solid rgba(0, 0, 0, 0.05);
						
						
						h1 {
							font-size: 20px;
							color: #2c3e50;
							font-weight: 600;
							letter-spacing: 0.5px;
							text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
						}
					}
					
					.container {
						display: flex;
						gap: 5px;
						flex-direction: column;
						overflow: auto;
						height: calc(100% - 56px);
						padding: 10px;
						scrollbar-width: thin;
						scrollbar-color: #2196F3 rgba(0, 0, 0, 0);
						
						
						data-html {
							display: none;
						}
						
						data-Done, data-InProgress {
							display: grid;
							gap: 5px;
							
							
							.file-item {
								display: flex;
								align-items: center;
								background: rgba(245, 247, 250, 0.9);
								border-radius: 8px;
								padding: 8px 20px;
								height: 50px;
								transition: all 0.3s;
								box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);
								border: 1px solid rgba(0, 0, 0, 0.03);
								
								
								&:hover {
									background: rgba(250, 252, 255, 0.95);
									box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
								}
								
								.file-icon {
									width: 28px;
									height: 28px;
									margin-right: 15px;
									background: rgba(41, 182, 246, 0.15);
									border-radius: 6px;
									display: flex;
									justify-content: center;
									align-items: center;
									font-size: 16px;
									color: #2196F3;
								}
								
								.file-status {
									width: 100px;
									text-align: center;
									font-size: 13px;
									font-weight: 600;
									padding: 5px 10px;
									border-radius: 15px;
									margin-left: 15px;
								}
								
								.file-name {
									flex: 1;
									white-space: nowrap;
									overflow: hidden;
									text-overflow: ellipsis;
									font-size: 15px;
									color: #2c3e50;
									font-weight: 500;
								}
								
								.file-size {
									width: 90px;
									text-align: right;
									font-size: 14px;
									color: #546e7a;
									font-weight: 500;
								}
								
								progress {
									width: 200px;
									height: 12px;
									margin: 0 20px;
									border: none;
									border-radius: 6px;
									overflow: hidden;
									
									
									&::-webkit-progress-bar {
										background-color: #e0e7ed;
										border-radius: 6px;
									}
									
									&::-webkit-progress-value {
										background: linear-gradient(90deg, #42A5F5, #29B6F6);
										border-radius: 6px;
										transition: width 0.3s ease;
									}
									
									&::-moz-progress-bar {
										background: linear-gradient(90deg, #42A5F5, #29B6F6);
										border-radius: 6px;
									}
								}
							}
						}
						
						data-Done {
							.file-item {
								.file-status {
									background: rgba(76, 175, 80, 0.15);
									color: #2E7D32;
									
									&::before {
										content: "Â∑≤ÂÆåÊàê";
									}
								}
							}
						}
						
						data-InProgress {
							.file-item {
								.file-status {
									background: rgba(33, 150, 243, 0.15);
									color: #1565C0;
									
									&::before {
										content: "‰∏ãËΩΩ‰∏≠";
									}
								}
							}
						}
					}
				}
				
				footer {
					.information {
						position: relative;
						top: 5px;
						color: #FFF;
						
						
						span:nth-of-type(2) {
							position: absolute;
							right: 0;
							display: inline-block;
						}
					}
					
					#progress {
						width: 100%;
						height: 25px;
					}
					
					.modern-button {
						display: block;
						width: 100%;
						padding: 8px 0;
						font-size: 18px;
						font-weight: bold;
						color: #ffffff;
						background-color: #4CAF50;
						border: none;
						border-radius: 5px;
						transition: all 0.3s ease;
						cursor: pointer;
						text-transform: uppercase;
						letter-spacing: 1.5px;
						text-align: center;
						
						
						&:hover {
							background-color: #45a049;
							transform: scale(1.001);
						}

						&:active {
							transform: scale(0.98);
							box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 -2px 4px rgba(0, 0, 0, 0.2);
						}
					}
				}
			}
		</style>
	</head>
	<body>
		<window-header>
			<style>
				window-header {
					position: fixed;
					top: 0;
					left: 0;
					z-index: 99;
					width: 100%;
					min-height: 28px;
					font-size: 0;
					text-align: right;
					-webkit-app-region: drag;
				}
				window-header div {
					display: inline-block;
					width:  28px;
					height: 28px;
					text-align: center;
					-webkit-app-region: no-drag;
				}
				window-header div svg {
					position: relative;
					top: 5px;
					width: 	16px;
					height: 16px;
					vertical-align: top;
				}
				window-header div svg path {
					fill: #FFF;
				}
				window-header #minimize:hover {
					background-color: #808080;
				}
				window-header #minimize:hover svg path {
					fill: #FFFFFF;
				}
				window-header #maximize:hover {
					background-color: #808080;
				}
				window-header #maximize:hover svg path {
					fill: #FFFFFF;
				}
				window-header #restore:hover {
					background-color: #808080;
				}
				window-header #restore:hover svg path {
					fill: #FFFFFF;
				}
				window-header #close:hover {
					background-color: #cc0000;
				}
				window-header #close:hover svg path {
					fill: #FFFFFF;
				}
			</style>
			<div id="minimize"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3730"><path d="M128 448h768v128H128z" p-id="3731"></path></svg></svg></div>
			<div id="maximize"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3389"><path d="M199.111111 256v512h625.777778v-512z m56.888889 455.111111v-341.333333h512v341.333333z" p-id="3390"></path></svg></div>
			<div id="restore" ><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3132"><path d="M512 1255.489906M865.682191 310.085948l-554.675195 0c-14.634419 0-26.403358 11.973616-26.403358 26.710374L284.603638 423.681791l-92.309414 0c-14.634419 0-26.403358 11.973616-26.403358 26.710374l0 349.998001c0 14.634419 11.768939 26.505697 26.403358 26.505697l554.675195 0c14.634419 0 26.710374-11.871277 26.710374-26.505697L773.679792 713.30002l92.002399 0c14.634419 0 26.710374-11.871277 26.710374-26.505697l0-349.998001C892.392564 322.059564 880.31661 310.085948 865.682191 310.085948zM728.65081 781.86688 210.817509 781.86688 210.817509 468.710774l517.8333 0L728.65081 781.86688zM847.363582 668.271037l-73.68379 0L773.679792 450.392165c0-14.634419-12.075954-26.710374-26.710374-26.710374L329.530282 423.681791l0-68.56686 517.8333 0L847.363582 668.271037z" p-id="3133"></path></svg></div>
			<div id="close"   ><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1501"><path d="M557.311759 513.248864l265.280473-263.904314c12.54369-12.480043 12.607338-32.704421 0.127295-45.248112-12.512727-12.576374-32.704421-12.607338-45.248112-0.127295L512.127295 467.904421 249.088241 204.063755c-12.447359-12.480043-32.704421-12.54369-45.248112-0.063647-12.512727 12.480043-12.54369 32.735385-0.063647 45.280796l262.975407 263.775299-265.151458 263.744335c-12.54369 12.480043-12.607338 32.704421-0.127295 45.248112 6.239161 6.271845 14.463432 9.440452 22.687703 9.440452 8.160624 0 16.319527-3.103239 22.560409-9.311437l265.216826-263.807983 265.440452 266.240344c6.239161 6.271845 14.432469 9.407768 22.65674 9.407768 8.191587 0 16.352211-3.135923 22.591372-9.34412 12.512727-12.480043 12.54369-32.704421 0.063647-45.248112L557.311759 513.248864z" fill="#575B66" p-id="1502"></path></svg></div>
		</window-header>
		
		<section>
			<main>
				<header><h1>‰∏ãËΩΩÊñá‰ª∂</h1></header>
				
				<div class="container">
					<data-html>
						<div class="file-item" id="{id}">
							<div class="file-icon">üìù</div>
							<div class="file-name">{fileName}</div>
							<progress value="0" max="0"></progress>
							<div class="file-size">{size}</div>
							<div class="file-status"></div>
						</div>
					</data-html>
					
					<data-Done></data-Done>
					<data-InProgress></data-InProgress>
				</div>
			</main>
			
			<footer>
				<div class="information">
					<span id="quantity">0/0</span>
					<span id="speed">0.00KB/s</span>
				</div>
				<progress id="progress" value="0" max="0"></progress>
				<button id="cancel" class="modern-button">close</button>
			</footer>
		</section>
		
		
		<script>
			function bytesToSize(bytes) {
				const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
				if (bytes === 0) return '0 Byte';
			  
				const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
				return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sizes[i];
			}
			
			window.addEventListener("downloadStart", (event) => {
				html = document.querySelector('data-html').innerHTML;
				html = html.replace("{id}", event.detail.id);
				html = html.replace("{fileName}", event.detail.fileName);
				html = html.replace("{size}", "0Bytes");
				
				document.querySelector('data-InProgress').insertAdjacentHTML('beforeend', html);
				document.querySelector('.container').scrollTop = document.querySelector('.container').scrollHeight;
			});
			window.addEventListener("downloadProgress", (event) => {
				document.getElementById(event.detail.id).querySelector('.file-size').innerHTML = bytesToSize(event.detail.totalBytes);
				document.getElementById(event.detail.id).querySelector('progress').max = event.detail.totalBytes;
				document.getElementById(event.detail.id).querySelector('progress').value = event.detail.downloadedBytes;
				
				if (event.detail.totalBytes === event.detail.downloadedBytes) {
					document.querySelector('data-Done').appendChild(document.getElementById(event.detail.id));
				}
			});
			window.addEventListener("progress", (event) => {
				document.getElementById('progress').max = event.detail.total;
				document.getElementById('progress').value = event.detail.complete;
				document.getElementById('quantity').innerHTML = event.detail.complete+'/'+event.detail.total;
			});
			window.addEventListener("speed", (event) => {
				document.getElementById('speed').innerHTML = event.detail;
			});
			window.addEventListener("operation", (event) => {
				document.querySelector('header h1').innerHTML = event.detail;
			});
		</script>
	</body>
</html>